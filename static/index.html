<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/static/external/bootstrap.min.css">
    <link rel="stylesheet" href="/static/main.css">

    <link rel="icon" type="image/png" href="/static/logo-128.png" />
    <link rel="manifest" href="/static/manifest.webmanifest">

    <title>Ledgy</title>
  </head>
  <body>

    <div class="btn-toolbar justify-content-between" role="toolbar" aria-label="Toolbar with button groups">
      <div id="accountButtonContainer" class="btn-group btn-group-toggle acount-selector" data-toggle="buttons">
        <label class="btn btn-secondary active" onclick="selectAccount('spend');">
          <input type="radio" name="account" id="account1" autocomplete="off" checked> Spend
        </label>
        <label class="btn btn-secondary" onclick="selectAccount('saved');">
          <input type="radio" name="account" id="account2" autocomplete="off"> Saved
        </label>
      </div>

      <div class="btn-group" role="group" aria-label="Enter Credentials">
        <button type="button" class="btn btn-secondary" onclick="$('#credsModal').modal();">Enter Credentials</button>
      </div>
      </div>

    <div class="balance-line">
      <span>Balance: </span>
      <span id="balanceSpan">Loading...</span>
    </div>

    <div class="loader">
      <svg viewBox="0 0 32 32" width="32" height="32">
        <circle id="spinner" cx="16" cy="16" r="14" fill="none"></circle>
      </svg>
    </div>

    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item">
        <a class="nav-link active" id="trans-form-tab" data-toggle="tab" href="#transForm" role="tab" aria-controls="trans-form" aria-selected="true">
          Add
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link " id="debits-tab" data-toggle="tab" href="#debits" role="tab" aria-controls="debits" aria-selected="false">
          Withdrawals
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="credits-tab" data-toggle="tab" href="#credits" role="tab" aria-controls="credits" aria-selected="false">
          Deposits
        </a>
      </li>
    </ul>

    <div id="alert-container">
    </div>
    
    <div id="credsModal" class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Username and password</h5>
          </div>
          <div class="modal-body">
            <input type="text" id="usernameInput" placeholder="username">
            <input type="password" id="passwordInput" placeholder="password">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary" data-dismiss="modal" onclick="saveCredentials();">Save changes</button>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="transactionsTabContent">
      <div class="tab-pane fade show active" id="transForm" role="tabpanel" aria-labelledby="trans-form-tab">
        <div class="transaction-form">
          <div id="transactionForm1" class="transactionFormPage">
            <div class="input-group">
              <div class="input-group-prepend">
                <div class="input-group-text">$</div>
              </div>
              <input type="text" class="form-control" id="amountInput" placeholder="Transaction amount">
            </div>

            <div class="btn-group btn-group-toggle transaction-type-selector d-none d-sm-block" data-toggle="buttons">
              <label class="btn btn-secondary" onclick="showTransactionFormPage(2);">
                <input type="radio" name="transType" autocomplete="off" value="credit"> Deposit
              </label>
              <label class="btn btn-secondary" onclick="showTransactionFormPage(2);">
                <input type="radio" name="transType" autocomplete="off" value="debit"> Withdrawal
              </label>
            </div>

            <div class="visible-xs-block keypad-container d-xs-block">
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('1');">1</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('2');">2</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('3');">3</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('4');">4</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('5');">5</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('6');">6</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('7');">7</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('8');">8</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('9');">9</button>

              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('.');">.</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadType('0');">0</button>
              <button class="btn btn-info keypad-button keypad-button-third" onclick="keypadDelete();">âŒ«</button>
              
              <button class="btn btn-outline-success keypad-button keypad-button-half" onclick="keypadEnter('credit');">Deposit</button>
              <button class="btn btn-outline-danger keypad-button keypad-button-half" onclick="keypadEnter('debit');">Withdrawal</button>
            </div>
          </div>
          <div id="transactionForm2" class="transactionFormPage" style="display: none;">
            <input type="text" class="form-control" id="descriptionInput" placeholder="Transaction description">
            <div class="btn-group mr-2" role="group" aria-label="First group">
              <button type="button" class="btn btn-secondary" onclick="showTransactionFormPage(1);">Back</button>
              <button type="button" class="btn btn-primary transaction-button" onclick="sendTransaction();">Submit</button>
            </div>
          </div>
        </div>
      </div>

      <div class="tab-pane fade" id="debits" role="tabpanel" aria-labelledby="debits-tab">
        <table class="table table-striped transactionTable">
          <thead>
            <tr>
              <th scope="col" class="transaction-amount">Amount</th>
              <th scope="col" class="transaction-description">Description</th>
            </tr>
          </thead>
          <tbody id="withdrawalsTableBody">
          </tbody>
        </table>
      </div>

      <div class="tab-pane fade" id="credits" role="tabpanel" aria-labelledby="credits-tab">
        <table class="table table-striped transactionTable">
          <thead>
            <tr>
              <th scope="col" class="transaction-amount">Amount</th>
              <th scope="col" class="transaction-description">Description</th>
            </tr>
          </thead>
          <tbody id="depositsTableBody">
          </tbody>
        </table>
      </div>
    </div>

    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="/static/external/jquery-3.3.1.slim.min.js"></script>
    <script src="/static/external/popper.min.js"></script>
    <script src="/static/external/bootstrap.min.js"></script>
    <script src="/static/external/jquery-dateformat.min.js"></script>
    <script src="/static/main.js"></script>
  </body>
</html>

